<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">
<head>
<title>관리자 회원관리창</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link th:href="@{/css/memberList.css}" rel="stylesheet">
</head>
<body>
	<div layout:fragment="content">
	<div id="Title">
			<div id="TopTitle" style="padding: 0px 20px 15px;">회원관리</div>

		</div>
		<div id="wrapper">
			<div class="container">
				<form action="/admin/member/list" method="get">
					<div class="memberlist">
						<table class="listtable">
							<tr class="listhead">
								<th width="10%">유저아이디</th>
								<th width="10%">권한</th>
								<th width="10%">이메일</th>
								<th width="10%">이름</th>
								<th width="13%">전화번호</th>
								<th width="10%">소속명</th>
								<th width="10%">가입일</th>
								<th width="10%">삭제하기</th>
							</tr>
							<tbody class="listbody">
								<tr th:each="list,index : ${resultMap.list}"
									th:with="paging=${resultMap.paging}">
									<td><span th:text="${list.userId}"></span></td>
									<td><span th:text="${list.role}"></span></td>
									<td><span th:text="${list.userEmail}"></span></td>
									<td><span th:text="${list.userName}"></span></td>
									<td><span th:text="${list.userTel}"></span></td>
									<td><span th:text="${list.userUniname}"></span></td>
									<td>
										<!-- 년월일로만 표시${#temporals.format(list.registerTime, 'yyyy-MM-dd')} -->
										<span
										th:text="${#temporals.format(list.registerTime, 'yyyy-MM-dd')}"></span>
									</td>
									<td><span th:if="${list.userId == 'admin'}" th:text="삭제불가"></span>
										<a th:href="@{./list/delete(userId=${list.userId})}"><span
											th:if="${list.userId != 'admin'}" th:text="삭제하기"></span></a></td>
								<tr>
							</tbody>
						</table>
						<div class="page">
							<ul class="paging">
								<li class="pagingnum"
									th:each="index : ${#numbers.sequence(1, resultMap.totalPage)}"
									th:with="paging=${resultMap.paging}"><a class="page-link"
									th:href="@{./list(page=${index - 1},page=${paging.pageSize})}"><span
										th:text="${index}"></span></a></li>
							</ul>
						</div>
					</div>
				</form>
			</div>

		</div>

	</div>
</body>
</html>